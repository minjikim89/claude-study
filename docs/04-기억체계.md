# 기억 체계 — Claude는 어떻게 기억하는가

## 기본 전제: Claude는 대화가 끝나면 모든 걸 잊는다

ChatGPT나 Claude 웹 버전을 써봤다면 알겠지만, AI는 기본적으로 **세션이 끝나면 이전 대화를 기억하지 못한다**. 매번 처음 만난 사람처럼 대화를 시작해야 한다.

Claude Code는 이 근본적 한계를 극복하기 위해 **파일 기반 기억 체계**를 구축했다. 사람으로 치면 "기억력이 없는 대신 꼼꼼하게 메모하는 비서"와 같다.

## 기억의 수명에 따른 분류

### 휘발성 기억 (세션이 끝나면 사라짐)

| 종류 | 설명 | 비유 |
|---|---|---|
| **대화 내용 (Messages)** | 지금 이 순간 주고받는 메시지 | 대화 중인 전화 통화 |
| **로드된 Skill 내용** | `/명령어`로 불러온 지시사항 | 지금 보고 있는 매뉴얼 |

세션을 닫으면 이 내용은 완전히 사라진다. 다음 세션에서 "아까 말한 거 기억해?"라고 물어도 모른다.

### 영구 기억 (파일로 저장, 세션이 바뀌어도 유지)

| 종류 | 설명 | 비유 |
|---|---|---|
| **CLAUDE.md** | 사용자가 직접 작성한 규칙 | 회사 사규 |
| **Auto Memory** | Claude가 자동으로 적는 학습 노트 | 비서의 개인 메모장 |
| **Skill 파일** | 디스크에 저장된 작업 레시피 | 레시피북 |

이들은 마크다운 파일로 디스크에 저장되기 때문에 세션이 바뀌어도 그대로 남아있다.

## 영구 기억 3종 비교

| | **CLAUDE.md** | **Auto Memory** | **Skill** |
|---|---|---|---|
| **뭐냐** | 규칙서 | 학습 노트 | 업무 레시피 |
| **비유** | 회사 사규 | 비서의 개인 메모장 | 요리 레시피북 |
| **누가 작성** | 사람 (수동) | Claude (자동) + 사람 | 사람 (수동) |
| **로딩 시점** | 매 세션 자동 | 매 세션 자동 | 호출할 때만 |
| **저장 위치** | 프로젝트 루트 / ~/.claude/ | `~/.claude/projects/<프로젝트>/memory/` | `.claude/skills/` |
| **용도** | "이렇게 해라" | "이걸 배웠다" | "이 작업은 이렇게" |
| **예시** | "한국어로 답해" | "이 유저는 표를 선호함" | "/sync로 리포트 생성" |
| **수정 권한** | 사용자만 | Claude 자동 + 사용자 수동 | 사용자만 |

## Auto Memory 상세

### 동작 방식

Auto Memory는 Claude가 **대화 중에 발견한 패턴을 자동으로 메모**하는 기능이다.

```
대화 중 Claude가 패턴을 발견
  │
  ▼
"이 유저는 표 형식을 선호하는구나"
  │
  ▼
~/.claude/projects/<프로젝트>/memory/MEMORY.md에 자동 기록
  │
  ▼
다음 세션에서 자동으로 읽힘 → 처음부터 표로 정리해서 답변
```

### Auto Memory가 기록하는 것들

- **사용자 선호**: 응답 형식, 언어, 코딩 스타일
- **프로젝트 패턴**: 자주 사용하는 파일 경로, 아키텍처 결정
- **디버깅 인사이트**: 반복된 문제의 해결 방법
- **워크플로우**: 사용자가 선호하는 작업 순서

### Auto Memory가 기록하지 않는 것들

- 세션 한정 컨텍스트 (진행 중인 작업, 임시 상태)
- 검증되지 않은 추측
- CLAUDE.md와 중복되는 내용

### 확인 및 수정

```bash
# /memory 명령어로 Auto Memory 확인 및 편집
# Claude Code 내에서 실행

/memory
```

직접 파일을 열어서 수정할 수도 있다:
```
~/.claude/projects/<프로젝트명>/memory/MEMORY.md
```

### 노코드 도구 비교

| 노코드 도구 | Claude Code Auto Memory |
|---|---|
| Notion AI의 "내 글쓰기 스타일 학습" | 사용자 선호 패턴 학습 |
| Zapier의 히스토리 기반 추천 | 이전 세션의 학습을 다음 세션에 반영 |
| ChatGPT의 "Memory" 기능 | 거의 동일한 컨셉, 단 파일 기반으로 투명하게 관리 |

ChatGPT Memory와의 큰 차이점: Claude Code의 Auto Memory는 **마크다운 파일**이라서 내용을 직접 확인하고 편집할 수 있다. 블랙박스가 아니다.

## 한 줄 요약

```
CLAUDE.md  = 내가 Claude에게 주는 규칙     (항상 로드)
Memory     = Claude가 스스로 적는 학습 노트  (항상 로드)
Skill      = 특정 작업의 레시피              (호출 시 로드)
대화       = 지금 이 순간의 맥락             (세션 끝나면 소멸)
```

> 이 4가지 계층은 결국 **컨텍스트 윈도우(200k 토큰)를 효율적으로 쓰기 위한 설계**이다.
> 항상 필요한 건 자동 로드, 가끔 필요한 건 온디맨드 로드, 일시적인 건 대화에만 존재.

## 핵심 정리

- Claude는 기본적으로 기억이 없다 → 파일로 기억을 보완하는 구조
- 휘발성(대화) vs 영구(CLAUDE.md, Auto Memory, Skill) 두 층으로 구분
- Auto Memory는 Claude가 자동으로 학습한 내용을 파일에 기록 → 다음 세션에 반영
- 모든 기억은 마크다운 파일이라서 투명하게 확인/편집 가능
- 컨텍스트 윈도우 200k 토큰의 효율적 사용이 기억 체계 설계의 핵심 목적
